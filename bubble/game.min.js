!function(){"use strict";var e=function(){this.board=new Array(15),this.currentPlayer=0,this.nextPlayer=1;for(var e=0;e<15;e++){this.board[e]=new Array(15);for(var r=0;r<15;r++)this.board[e][r]=0}};e.prototype.one=function(e,r){return 0===this.board[e][r]?(this.board[e][r]=this.nextPlayer,this.currentPlayer=this.nextPlayer,this.nextPlayer=1==this.currentPlayer?2:1,this.currentPlayer):0},e.prototype.win=function(e,r){var t,n,o=0,i=0,a=0,c=0,s=this.currentPlayer,f=this.board;for(t=e;t>=0&&f[t][r]==s;t--)o++;for(t=e+1;t<15&&f[t][r]==s;t++)o++;for(t=r;t>=0&&f[e][t]==s;t--)i++;for(t=r+1;t<15&&f[e][t]==s;t++)i++;for(t=e,n=r;t>=0&&n>=0&&f[t][n]==s;t--,n--)a++;for(t=e+1,n=r+1;t<15&&n<15&&f[t][n]==s;t++,n++)a++;for(t=e,n=r;t>=0&&n<15&&f[t][n]==s;t--,n++)c++;for(t=e+1,n=r-1;t<15&&n>=0&&f[t][n]==s;t++,n--)c++;if(o>=5||i>=5||a>=5||c>=5)return this.winner=1===s?1:2,this.winner;var l=f.reduce(function(e,r){return e.concat(r)}).some(function(e){return e>0});return l?0:-1},window.Game=e}(window),function(e,r){"use strict";var t=r.getContext("2d");t.beginPath();for(var n=0;n<15;n++)t.moveTo(15.5,15.5+30*n),t.lineTo(435.5,15.5+30*n),t.moveTo(15.5+30*n,15.5),t.lineTo(15.5+30*n,435.5);t.closePath(),t.stroke();var o=new e.Game;r.addEventListener("click",function n(i){var a=i||e.event,c=Math.floor(a.offsetX/30)-1,s=Math.floor(a.offsetY/30)-1,f=o.one(c,s);if(c>=0&&c<13&&s>=0&&s<13&&f>0){var l=t.createRadialGradient(43+30*c,43+30*s,14,43+30*c,43+30*s,0);1===f?(l.addColorStop(1,"#ccc"),l.addColorStop(.1,"#000")):(l.addColorStop(.1,"#ccc"),l.addColorStop(1,"#fff")),t.fillStyle=l,t.beginPath(),t.arc(45+30*c,45+30*s,14,0,2*Math.PI),t.closePath(),t.fill();var h=o.win(c,s);if(0!==h){var d=document.getElementById("result");switch(h){case 1:d.innerText="The winner is black!";break;case 2:d.innerText="The winner is white!";break;case-1:d.innerText="Tie!"}r.removeEventListener("click",n)}}})}(window,document.getElementById("canvas"));